\section{The Disaster Scenario}
\label{sec:scenario}

\noindent We consider a disaster scenario involving a satellite, powered radioactive fuel, that has crashed in a sub-urban area (see Section \ref{atomic} to see how this helps implement a  mixed-reality game). While debris is strewn around a large area, damaging buildings and causing accidents and injuring civilians, radioactive particles discharged in the air, from the debris, are gradually spreading over the area, threatening to contaminate food reserves and people. Hence, emergency services, voluntary organisations, and the military are deployed to help evacuate the casualties and resources before these are engulfed by a radioactive cloud.  In what follows, we model this scenario formally and then describe the optimisation problem faced by the actors  (i.e., including emergency services, volunteers, medics, and soldiers) in trying to save as many lives and resources as possible.  We then propose an algorithm to solve this optimisation problem (in Section \ref{sec:algo}). In Section \ref{sec:atomic}, we demonstrate how this algorithm can be used by a software agent (in our mixed-reality game) in a mixed-initiative process to coordinate field responders. 

\subsection{Formal Model}
\noindent Let $G$ denote a grid overlaid on top of the disaster space, and the satellite and actors are located at various coordinates $(x,y) \in G$ in this grid. The radioactive cloud induces a radioactivity level  $l \in [0,100]$ at every point it covers in the grid (100 corresponds to maximum radiation). While the exact radiation levels can be measured by responders on the ground (at every grid coordinate) using their geiger counter, it is assumed that some information is available  from existing sensors  in the area. However, this information is uncertain due to the poor positioning of the sensors and the variations in wind speed and direction (and we show how this uncertainty is captured in the next section). A number of safe zones $G' \subseteq G$ are defined where the responders can drop off assets and casualties. Let the set of $n$ field responders be denoted as $p_1, \cdots p_i \cdots, p_n \in I$ and the set of $m$s rescue tasks as  $t_1,\cdots, t_j, \cdots, t_m\in T$.  As responders enact tasks, they may become tired, get injured, or receive radiation doses that may, at worst, be life threatening. Hence, we assign each responder  a health level $h_i\in [0,100]$ that decreases based on their radiation dose( $h$ is decreased by $0.02 * l $ per second ) and assume that their decision to perform the task allocated to them is liable to some uncertainty (e.g., they may not want to do a task because they are tired or don't believe it is the right one to do).  Moreover, each responder has  a specific role  $r \in Roles$ (e.g., fire brigade, soldier, or medic) and this will determine the capabilities he or she has and therefore the tasks he or she can perform. We denote as $Roles(p_i)$ the role of responder $p_i$. In turn, to complete a given task $t_j$,  a set of responders $I' \subseteq I$ with specific roles $R_{t_j} \subseteq R$ is required. Thus, a task can only be completed by a team of responders $I'$ if $\{Roles(p_i) | p_i \in I'\} = R_{t_j}$. 
\begin{figure}[htbp]
\includegraphics[width=\columnwidth]{scenario.jpg}
\label{fig:scenario}
\caption{The interactions between different actors in the disaster scenario. Lines represent communication links. Planner agent and coordinator sit in the headquarters (HQ). Field responders (FRs) can communicate with all actors directly.}
\end{figure}
In our scenario, we assume that the field responders are coordinated by the headquarters headed by a human coordinator $H$ but assisted by a planner agent $PA$ that can receive input from the human coordinator or the field responders.  While the human coordinator $H$ communicates its instructions directly to the responders (e.g., using an instant messaging client or walkie talkie), the planning agent $PA$ can compute an allocation of tasks for the responders to complete. This is communicated to them in terms of simple "Do task X at position Y". The responders may not want to do some tasks (for reasons outlined above) and may therefore simply accept or reject the received instruction. These interactions are depicted in Figure \ref{fig:scenario}.  

It is important to note that our model implements different types of control: (i) agent-based: when the agent instructs the responders (ii) human-based: when responders work with the coordinator or between themselves. Our model also captures different modes of control: (i) centralised: when responders respond to the planning agent or human coordinator (ii) decentralised: if responders coordinate between themselves. Crucially, this scenario allows for flexible levels of human and agent autonomy. For example, field responders may simply implement the plan given to them by the planner agent but can also feedback their constraints to the planner agent (as we demonstrate later) by rejecting some instructions and requesting new instructions.

Given this model, we next formulate the optimisation problem faced by the responders  and solved by the planning agent (later  in Section \ref{sec:algo}). To this end, we propose a Multi-Agent Markov Decision Process (MMDP)~\cite{?} that captures the uncertainties of the radioactive cloud and the responders' behaviours. Specifically, we model the spreading of the radiative cloud as a random process over the disaster space and allow the actions requested from the responders to  fail (because they refuse to go to a  task) or incur delays (because they are too slow) during the rescue process. This stands in contrast to previous work \cite{csftp,HTSSC} that require the process of task executions to be deterministic and explicitly model the task deadlines as deterministic constraints (which are stochastic in our domain). Thus in the MMDP model, we represent  task executions as stochastic processes of state transitions. Thus, the uncertainties of the radioactive cloud and the responders' behaviours can be easily captured with transition probabilities. Additionally, modelling the problem as a MMDP allows us to use many sophisticated algorithms such as RTDP and MCTS that have already been well developed in the literature~\cite{?,?,?}.


\input{mmdp_model.tex}
