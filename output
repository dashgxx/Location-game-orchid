DataObjects::URI.new with arguments is deprecated, use a Hash of URI components (/usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-do-adapter-1.1.0/lib/dm-do-adapter/adapter.rb:231:in `new')
>> Thin web server (v1.2.11 codename Bat-Shit Crazy)
>> Maximum connections set to 1024
>> Listening on 0.0.0.0:49992, CTRL+C to stop
 ~ (0.000068) SET sql_auto_is_null = 0
 ~ (0.000080) SET SESSION sql_mode = 'ANSI,NO_BACKSLASH_ESCAPES,NO_DIR_IN_CREATE,NO_ENGINE_SUBSTITUTION,NO_UNSIGNED_SUBTRACTION,TRADITIONAL'
 ~ (0.000492) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000898) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `game_layer_id` IN (1, 2, 3, 4, 5, 9, 10, 11, 12, 14) ORDER BY `id`
 ~ (0.000557) SELECT `id`, `name`, `created_at`, `updated_at`, `game_layer_id` FROM `teams` WHERE `game_layer_id` IN (1, 2, 3, 4, 5, 9, 10, 11, 12, 14) ORDER BY `id`
 ~ (0.000645) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 1 ORDER BY `id`
 ~ (0.000219) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 2 ORDER BY `id`
 ~ (0.000154) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 3 ORDER BY `id`
 ~ (0.000319) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 4 ORDER BY `id`
 ~ (0.000186) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 5 ORDER BY `id`
 ~ (0.000154) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id`
 ~ (0.000464) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 7 ORDER BY `id`
 ~ (0.000157) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 8 ORDER BY `id`
 ~ (0.000138) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 9 ORDER BY `id`
 ~ (0.000150) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 10 ORDER BY `id`
 ~ (0.000110) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 11 ORDER BY `id`
 ~ (0.000115) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 12 ORDER BY `id`
 ~ (0.000196) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 13 ORDER BY `id`
 ~ (0.000126) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 14 ORDER BY `id`
 ~ (0.000132) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 15 ORDER BY `id`
 ~ (0.000113) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 25 ORDER BY `id`
 ~ (0.000109) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 26 ORDER BY `id`
 ~ (0.000132) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 27 ORDER BY `id`
 ~ (0.000111) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 28 ORDER BY `id`
 ~ (0.000109) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 29 ORDER BY `id`
 ~ (0.000114) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 30 ORDER BY `id`
 ~ (0.000122) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 31 ORDER BY `id`
 ~ (0.000114) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 32 ORDER BY `id`
 ~ (0.000110) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 33 ORDER BY `id`
 ~ (0.000327) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 34 ORDER BY `id`
 ~ (0.000137) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 35 ORDER BY `id`
 ~ (0.000111) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 36 ORDER BY `id`
 ~ (0.000151) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 40 ORDER BY `id`
10.50.253.110 - - [08/Mar/2012 18:19:18] "GET /admin/games HTTP/1.1" 200 19173 0.3549
10.50.253.110 - - [08/Mar/2012 18:19:18] "GET /reset.css HTTP/1.1" 304 - 0.0018
10.50.253.110 - - [08/Mar/2012 18:19:20] "GET /favicon.ico HTTP/1.1" 404 458 0.0025
10.50.253.110 - - [08/Mar/2012 18:19:33] "GET /migrate HTTP/1.1" 200 - 0.7651
 ~ (0.000115) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 41 ORDER BY `id`
 ~ (0.000110) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 42 ORDER BY `id`
 ~ (0.131938) DROP TABLE IF EXISTS `players`
 ~ (0.000379) SHOW TABLES LIKE 'players'
 ~ (0.000052) SET sql_auto_is_null = 0
 ~ (0.000056) SET SESSION sql_mode = 'ANSI,NO_BACKSLASH_ESCAPES,NO_DIR_IN_CREATE,NO_ENGINE_SUBSTITUTION,NO_UNSIGNED_SUBTRACTION,TRADITIONAL'
 ~ (0.000620) SHOW VARIABLES LIKE 'character_set_connection'
 ~ (0.000402) SHOW VARIABLES LIKE 'collation_connection'
 ~ (0.010610) CREATE TABLE `players` (`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `status` INTEGER DEFAULT -1, `points_cache` INTEGER DEFAULT 0, `profile_image` VARCHAR(255), `name` VARCHAR(50), `email` VARCHAR(255), `created_at` DATETIME, `updated_at` DATETIME, `exposure` FLOAT DEFAULT 0.0, `current_exposure` FLOAT DEFAULT 0.0, `skill` INTEGER, `health` INTEGER DEFAULT 100, `latitude` DECIMAL(10, 7), `longitude` DECIMAL(10, 7), `team_id` INT(10) UNSIGNED NOT NULL, `game_layer_id` INT(10) UNSIGNED NOT NULL, PRIMARY KEY(`id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.080270) CREATE INDEX `index_players_id` ON `players` (`id`)
 ~ (0.040894) CREATE INDEX `index_players_team` ON `players` (`team_id`)
 ~ (0.040943) CREATE INDEX `index_players_game` ON `players` (`game_layer_id`)
 ~ (0.003458) DROP TABLE IF EXISTS `cargos`
 ~ (0.000215) SHOW TABLES LIKE 'cargos'
 ~ (0.007350) CREATE TABLE `cargos` (`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `latitude` DECIMAL(10, 7), `longitude` DECIMAL(10, 7), `created_at` DATETIME, `radius` INTEGER, `exposed` BOOLEAN, `player_id` INT(10) UNSIGNED NOT NULL, PRIMARY KEY(`id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.039957) CREATE INDEX `index_cargos_player` ON `cargos` (`player_id`)
 ~ (0.004620) DROP TABLE IF EXISTS `tasks`
 ~ (0.000237) SHOW TABLES LIKE 'tasks'
 ~ (0.013996) CREATE TABLE `tasks` (`type` INTEGER, `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `created_at` DATETIME, `updated_at` DATETIME, `description` VARCHAR(255), `status` VARCHAR(50) DEFAULT 'inactive', `latitude` DECIMAL(10, 7), `longitude` DECIMAL(10, 7), `game_layer_id` INT(10) UNSIGNED NOT NULL, PRIMARY KEY(`id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.041135) CREATE INDEX `index_tasks_game` ON `tasks` (`game_layer_id`)
 ~ (0.004102) DROP TABLE IF EXISTS `requests`
 ~ (0.000238) SHOW TABLES LIKE 'requests'
 ~ (0.007019) CREATE TABLE `requests` (`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `latitude` DECIMAL(10, 7), `longitude` DECIMAL(10, 7), `value` INTEGER, `radius` INTEGER, `created_at` DATETIME, `updated_at` DATETIME, `player_id` INT(10) UNSIGNED NOT NULL, PRIMARY KEY(`id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.041808) CREATE INDEX `index_requests_player` ON `requests` (`player_id`)
 ~ (0.010499) DROP TABLE IF EXISTS `teams`
 ~ (0.000214) SHOW TABLES LIKE 'teams'
 ~ (0.007603) CREATE TABLE `teams` (`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `name` VARCHAR(255), `created_at` DATETIME, `updated_at` DATETIME, `game_layer_id` INT(10) UNSIGNED NOT NULL, PRIMARY KEY(`id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.040234) CREATE INDEX `index_teams_game` ON `teams` (`game_layer_id`)
 ~ (0.008661) DROP TABLE IF EXISTS `radiations`
 ~ (0.000242) SHOW TABLES LIKE 'radiations'
 ~ (0.006988) CREATE TABLE `radiations` (`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `latitude` DECIMAL(10, 7), `longitude` DECIMAL(10, 7), `created_at` DATETIME, `radius` INTEGER, `exposed` BOOLEAN, `movement_speed` DECIMAL(2, 2), `direction_vector` DECIMAL(2, 2), `game_layer_id` INT(10) UNSIGNED NOT NULL, PRIMARY KEY(`id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.041556) CREATE INDEX `index_radiations_game` ON `radiations` (`game_layer_id`)
 ~ (0.003638) DROP TABLE IF EXISTS `boundings`
 ~ (0.000206) SHOW TABLES LIKE 'boundings'
 ~ (0.007274) CREATE TABLE `boundings` (`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `sw_latitude` DECIMAL(10, 7), `sw_longitude` DECIMAL(10, 7), `ne_latitude` DECIMAL(10, 7), `ne_longitude` DECIMAL(10, 7), `created_at` DATETIME, `updated_at` DATETIME, `game_layer_id` INT(10) UNSIGNED NOT NULL, PRIMARY KEY(`id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.040076) CREATE INDEX `index_boundings_game` ON `boundings` (`game_layer_id`)
 ~ (0.004460) DROP TABLE IF EXISTS `readings`
 ~ (0.000231) SHOW TABLES LIKE 'readings'
 ~ (0.006838) CREATE TABLE `readings` (`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `latitude` DECIMAL(10, 7), `longitude` DECIMAL(10, 7), `created_at` DATETIME, `updated_at` DATETIME, `value` VARCHAR(50), `player_id` INT(10) UNSIGNED NOT NULL, PRIMARY KEY(`id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.041940) CREATE INDEX `index_readings_player` ON `readings` (`player_id`)
 ~ (0.003598) DROP TABLE IF EXISTS `games`
 ~ (0.000213) SHOW TABLES LIKE 'games'
 ~ (0.007215) CREATE TABLE `games` (`name` VARCHAR(50), `address` VARCHAR(255), `latitude` VARCHAR(50), `longitude` VARCHAR(50), `radius` VARCHAR(50), `layer_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `is_active` INTEGER DEFAULT -1, `created_at` DATETIME, `updated_at` DATETIME, PRIMARY KEY(`layer_id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.043065) CREATE INDEX `index_games_layer_id` ON `games` (`layer_id`)
!! Unexpected error while processing request: Body yielded non-string value Player
 ~ (0.004756) DROP TABLE IF EXISTS `players`
 ~ (0.000214) SHOW TABLES LIKE 'players'
 ~ (0.007308) CREATE TABLE `players` (`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `status` INTEGER DEFAULT -1, `points_cache` INTEGER DEFAULT 0, `profile_image` VARCHAR(255), `name` VARCHAR(50), `email` VARCHAR(255), `created_at` DATETIME, `updated_at` DATETIME, `exposure` FLOAT DEFAULT 0.0, `current_exposure` FLOAT DEFAULT 0.0, `skill` INTEGER, `health` INTEGER DEFAULT 100, `latitude` DECIMAL(10, 7), `longitude` DECIMAL(10, 7), `team_id` INT(10) UNSIGNED NOT NULL, `game_layer_id` INT(10) UNSIGNED NOT NULL, PRIMARY KEY(`id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.043111) CREATE INDEX `index_players_id` ON `players` (`id`)
 ~ (0.041351) CREATE INDEX `index_players_team` ON `players` (`team_id`)
 ~ (0.041522) CREATE INDEX `index_players_game` ON `players` (`game_layer_id`)
 ~ (0.003561) DROP TABLE IF EXISTS `cargos`
 ~ (0.000236) SHOW TABLES LIKE 'cargos'
 ~ (0.021004) CREATE TABLE `cargos` (`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `latitude` DECIMAL(10, 7), `longitude` DECIMAL(10, 7), `created_at` DATETIME, `radius` INTEGER, `exposed` BOOLEAN, `player_id` INT(10) UNSIGNED NOT NULL, PRIMARY KEY(`id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.040785) CREATE INDEX `index_cargos_player` ON `cargos` (`player_id`)
 ~ (0.003316) DROP TABLE IF EXISTS `tasks`
 ~ (0.000211) SHOW TABLES LIKE 'tasks'
 ~ (0.008470) CREATE TABLE `tasks` (`type` INTEGER, `id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `created_at` DATETIME, `updated_at` DATETIME, `description` VARCHAR(255), `status` VARCHAR(50) DEFAULT 'inactive', `latitude` DECIMAL(10, 7), `longitude` DECIMAL(10, 7), `game_layer_id` INT(10) UNSIGNED NOT NULL, PRIMARY KEY(`id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.040402) CREATE INDEX `index_tasks_game` ON `tasks` (`game_layer_id`)
 ~ (0.008556) DROP TABLE IF EXISTS `requests`
 ~ (0.000211) SHOW TABLES LIKE 'requests'
 ~ (0.006990) CREATE TABLE `requests` (`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `latitude` DECIMAL(10, 7), `longitude` DECIMAL(10, 7), `value` INTEGER, `radius` INTEGER, `created_at` DATETIME, `updated_at` DATETIME, `player_id` INT(10) UNSIGNED NOT NULL, PRIMARY KEY(`id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
10.50.253.110 - - [08/Mar/2012 18:19:35] "GET /migrate HTTP/1.1" 200 - 0.5933
10.50.253.110 - - [08/Mar/2012 18:19:42] "GET /admin/games HTTP/1.1" 200 767 0.0063
10.50.253.110 - - [08/Mar/2012 18:19:42] "GET /favicon.ico HTTP/1.1" 404 458 0.0024
10.50.253.110 - - [08/Mar/2012 18:19:45] "GET /admin/games/new HTTP/1.1" 200 2388 0.0057
10.50.253.110 - - [08/Mar/2012 18:19:45] "GET /favicon.ico HTTP/1.1" 404 458 0.0021
10.50.253.110 - - [08/Mar/2012 18:21:13] "POST /admin/games HTTP/1.1" 302 - 0.0312
10.50.253.110 - - [08/Mar/2012 18:21:13] "GET /admin/games/1/mapeditor HTTP/1.1" 200 16316 0.0189
10.50.253.110 - - [08/Mar/2012 18:21:13] "GET /bootstrap.css HTTP/1.1" 304 - 0.0020
10.50.253.110 - - [08/Mar/2012 18:21:13] "GET /admin/games/1/setup.json HTTP/1.1" 200 50 0.0091
10.50.253.110 - - [08/Mar/2012 18:21:13] "GET /favicon.ico HTTP/1.1" 404 458 0.0023
10.50.253.110 - - [08/Mar/2012 18:21:57] "GET /admin/games HTTP/1.1" 200 2768 0.0196
10.50.253.110 - - [08/Mar/2012 18:21:57] "GET /favicon.ico HTTP/1.1" 404 458 0.0027
10.50.253.110 - - [08/Mar/2012 18:22:01] "GET /admin/games HTTP/1.1" 200 2768 0.0187
10.50.253.110 - - [08/Mar/2012 18:22:01] "GET /reset.css HTTP/1.1" 304 - 0.0022
10.50.253.110 - - [08/Mar/2012 18:22:01] "GET /favicon.ico HTTP/1.1" 404 458 0.0026
10.50.253.110 - - [08/Mar/2012 18:22:07] "GET /admin/games/new HTTP/1.1" 200 2388 0.0433
10.50.253.110 - - [08/Mar/2012 18:22:07] "GET /favicon.ico HTTP/1.1" 404 458 0.0024
 ~ (0.040849) CREATE INDEX `index_requests_player` ON `requests` (`player_id`)
 ~ (0.003583) DROP TABLE IF EXISTS `teams`
 ~ (0.000211) SHOW TABLES LIKE 'teams'
 ~ (0.007368) CREATE TABLE `teams` (`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `name` VARCHAR(255), `created_at` DATETIME, `updated_at` DATETIME, `game_layer_id` INT(10) UNSIGNED NOT NULL, PRIMARY KEY(`id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.041334) CREATE INDEX `index_teams_game` ON `teams` (`game_layer_id`)
 ~ (0.004818) DROP TABLE IF EXISTS `radiations`
 ~ (0.000212) SHOW TABLES LIKE 'radiations'
 ~ (0.007123) CREATE TABLE `radiations` (`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `latitude` DECIMAL(10, 7), `longitude` DECIMAL(10, 7), `created_at` DATETIME, `radius` INTEGER, `exposed` BOOLEAN, `movement_speed` DECIMAL(2, 2), `direction_vector` DECIMAL(2, 2), `game_layer_id` INT(10) UNSIGNED NOT NULL, PRIMARY KEY(`id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.040993) CREATE INDEX `index_radiations_game` ON `radiations` (`game_layer_id`)
 ~ (0.003717) DROP TABLE IF EXISTS `boundings`
 ~ (0.000205) SHOW TABLES LIKE 'boundings'
 ~ (0.007520) CREATE TABLE `boundings` (`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `sw_latitude` DECIMAL(10, 7), `sw_longitude` DECIMAL(10, 7), `ne_latitude` DECIMAL(10, 7), `ne_longitude` DECIMAL(10, 7), `created_at` DATETIME, `updated_at` DATETIME, `game_layer_id` INT(10) UNSIGNED NOT NULL, PRIMARY KEY(`id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.041169) CREATE INDEX `index_boundings_game` ON `boundings` (`game_layer_id`)
 ~ (0.003554) DROP TABLE IF EXISTS `readings`
 ~ (0.000206) SHOW TABLES LIKE 'readings'
 ~ (0.008521) CREATE TABLE `readings` (`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `latitude` DECIMAL(10, 7), `longitude` DECIMAL(10, 7), `created_at` DATETIME, `updated_at` DATETIME, `value` VARCHAR(50), `player_id` INT(10) UNSIGNED NOT NULL, PRIMARY KEY(`id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.040103) CREATE INDEX `index_readings_player` ON `readings` (`player_id`)
 ~ (0.004718) DROP TABLE IF EXISTS `games`
 ~ (0.000210) SHOW TABLES LIKE 'games'
 ~ (0.006774) CREATE TABLE `games` (`name` VARCHAR(50), `address` VARCHAR(255), `latitude` VARCHAR(50), `longitude` VARCHAR(50), `radius` VARCHAR(50), `layer_id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT, `is_active` INTEGER DEFAULT -1, `created_at` DATETIME, `updated_at` DATETIME, PRIMARY KEY(`layer_id`)) ENGINE = InnoDB CHARACTER SET utf8 COLLATE utf8_general_ci
 ~ (0.042274) CREATE INDEX `index_games_layer_id` ON `games` (`layer_id`)
!! Unexpected error while processing request: Body yielded non-string value Player
 ~ (0.000294) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.003112) INSERT INTO `games` (`name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at`) VALUES ('', 'nottingham', '52.94963764731868', '-1.2127386908874849', '264.80662398474516', -1, '2012-03-08 18:21:13', '2012-03-08 18:21:13')
 ~ (0.002708) INSERT INTO `teams` (`name`, `created_at`, `updated_at`, `game_layer_id`) VALUES ('runner', '2012-03-08 18:21:13', '2012-03-08 18:21:13', 1)
 ~ (0.002633) INSERT INTO `teams` (`name`, `created_at`, `updated_at`, `game_layer_id`) VALUES ('controller', '2012-03-08 18:21:13', '2012-03-08 18:21:13', 1)
 ~ (0.002580) INSERT INTO `teams` (`name`, `created_at`, `updated_at`, `game_layer_id`) VALUES ('truck', '2012-03-08 18:21:13', '2012-03-08 18:21:13', 1)
 ~ (0.000319) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 1 LIMIT 1
 ~ (0.000330) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 1 LIMIT 1
 ~ (0.000246) SELECT `id`, `latitude`, `longitude`, `created_at`, `radius`, `exposed`, `movement_speed`, `direction_vector`, `game_layer_id` FROM `radiations` WHERE `game_layer_id` = 1 ORDER BY `id`
 ~ (0.000184) SELECT `id`, `sw_latitude`, `sw_longitude`, `ne_latitude`, `ne_longitude`, `created_at`, `updated_at`, `game_layer_id` FROM `boundings` WHERE `game_layer_id` = 1 ORDER BY `id`
 ~ (0.000186) SELECT `id`, `type`, `created_at`, `updated_at`, `description`, `status`, `latitude`, `longitude`, `game_layer_id` FROM `tasks` WHERE `game_layer_id` = 1 ORDER BY `id`
 ~ (0.000327) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000302) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `game_layer_id` = 1 ORDER BY `id`
 ~ (0.000242) SELECT `id`, `name`, `created_at`, `updated_at`, `game_layer_id` FROM `teams` WHERE (`game_layer_id` = 1 AND `name` = 'runner') ORDER BY `id` LIMIT 1
 ~ (0.000187) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 1 ORDER BY `id`
 ~ (0.000193) SELECT `id`, `name`, `created_at`, `updated_at`, `game_layer_id` FROM `teams` WHERE (`game_layer_id` = 1 AND `name` = 'controller') ORDER BY `id` LIMIT 1
 ~ (0.000231) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 2 ORDER BY `id`
 ~ (0.000187) SELECT `id`, `name`, `created_at`, `updated_at`, `game_layer_id` FROM `teams` WHERE (`game_layer_id` = 1 AND `name` = 'truck') ORDER BY `id` LIMIT 1
 ~ (0.000200) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 3 ORDER BY `id`
 ~ (0.000280) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000250) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `game_layer_id` = 1 ORDER BY `id`
 ~ (0.000248) SELECT `id`, `name`, `created_at`, `updated_at`, `game_layer_id` FROM `teams` WHERE (`game_layer_id` = 1 AND `name` = 'runner') ORDER BY `id` LIMIT 1
 ~ (0.000180) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 1 ORDER BY `id`
 ~ (0.000174) SELECT `id`, `name`, `created_at`, `updated_at`, `game_layer_id` FROM `teams` WHERE (`game_layer_id` = 1 AND `name` = 'controller') ORDER BY `id` LIMIT 1
 ~ (0.000166) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 2 ORDER BY `id`
 ~ (0.000172) SELECT `id`, `name`, `created_at`, `updated_at`, `game_layer_id` FROM `teams` WHERE (`game_layer_id` = 1 AND `name` = 'truck') ORDER BY `id` LIMIT 1
 ~ (0.000179) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 3 ORDER BY `id`
 ~ (0.003202) INSERT INTO `games` (`name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at`) VALUES ('test', '', '52.94712620680979', '-1.209631855580604', '529.6294343614755', -1, '2012-03-08 18:22:21', '2012-03-08 18:22:21')
10.50.253.110 - - [08/Mar/2012 18:22:21] "POST /admin/games HTTP/1.1" 302 - 0.0249
10.50.253.110 - - [08/Mar/2012 18:22:21] "GET /admin/games/2/mapeditor HTTP/1.1" 200 16314 0.0162
10.50.253.110 - - [08/Mar/2012 18:22:21] "GET /admin/games/2/setup.json HTTP/1.1" 200 50 0.0075
10.50.253.110 - - [08/Mar/2012 18:22:22] "GET /favicon.ico HTTP/1.1" 404 458 0.0021
10.50.253.110 - - [08/Mar/2012 18:22:25] "GET /img/task_icon2.png HTTP/1.1" 200 3851 0.0030
10.50.253.110 - - [08/Mar/2012 18:22:31] "POST /admin/games/2/addTask HTTP/1.1" 200 15 0.0101
10.50.253.110 - - [08/Mar/2012 18:22:31] "GET /admin/games/2/mapeditor HTTP/1.1" 200 16314 0.0158
10.50.253.110 - - [08/Mar/2012 18:22:31] "GET /admin/games/2/setup.json HTTP/1.1" 200 176 0.0080
10.50.253.110 - - [08/Mar/2012 18:22:31] "GET /favicon.ico HTTP/1.1" 404 458 0.0020
10.50.253.110 - - [08/Mar/2012 18:22:33] "GET /admin/games HTTP/1.1" 200 4611 0.0258
10.50.253.110 - - [08/Mar/2012 18:22:33] "GET /favicon.ico HTTP/1.1" 404 458 0.0022
128.243.22.244 - - [08/Mar/2012 18:22:56] "GET /games/list HTTP/1.1" 200 129 0.0034
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.22.244 - - [08/Mar/2012 18:23:04] "POST /game/2/join HTTP/1.1" 500 159882 0.0808
128.243.22.244 - - [08/Mar/2012 18:23:04] "GET /game/mobile/2?id=140 HTTP/1.1" 200 5805 0.0156
128.243.22.244 - - [08/Mar/2012 18:23:04] "GET /game-common.js HTTP/1.1" 200 3371 0.0011
128.243.22.244 - - [08/Mar/2012 18:23:04] "GET /mapattack-push.js HTTP/1.1" 304 - 0.0007
128.243.22.244 - - [08/Mar/2012 18:23:04] "GET /game_user.js HTTP/1.1" 304 - 0.0007
128.243.22.244 - - [08/Mar/2012 18:23:04] "GET /health_status.js HTTP/1.1" 304 - 0.0007
128.243.22.244 - - [08/Mar/2012 18:23:04] "GET /location.js HTTP/1.1" 304 - 0.0007
128.243.22.244 - - [08/Mar/2012 18:23:07] "GET /radiation_gray.png HTTP/1.1" 304 - 0.0011
128.243.22.244 - - [08/Mar/2012 18:23:07] "GET /game/2/status.json?after=0 HTTP/1.1" 200 208 0.0071
128.243.22.244 - - [08/Mar/2012 18:23:18] "GET /radiation_black.png HTTP/1.1" 200 1191 0.0014
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.22.244 - - [08/Mar/2012 18:24:45] "POST /game/2/join HTTP/1.1" 500 159882 0.0921
 ~ (0.003098) INSERT INTO `teams` (`name`, `created_at`, `updated_at`, `game_layer_id`) VALUES ('runner', '2012-03-08 18:22:21', '2012-03-08 18:22:21', 2)
 ~ (0.002951) INSERT INTO `teams` (`name`, `created_at`, `updated_at`, `game_layer_id`) VALUES ('controller', '2012-03-08 18:22:21', '2012-03-08 18:22:21', 2)
 ~ (0.002847) INSERT INTO `teams` (`name`, `created_at`, `updated_at`, `game_layer_id`) VALUES ('truck', '2012-03-08 18:22:21', '2012-03-08 18:22:21', 2)
 ~ (0.000228) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 LIMIT 1
 ~ (0.000260) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 LIMIT 1
 ~ (0.000199) SELECT `id`, `latitude`, `longitude`, `created_at`, `radius`, `exposed`, `movement_speed`, `direction_vector`, `game_layer_id` FROM `radiations` WHERE `game_layer_id` = 2 ORDER BY `id`
 ~ (0.000142) SELECT `id`, `sw_latitude`, `sw_longitude`, `ne_latitude`, `ne_longitude`, `created_at`, `updated_at`, `game_layer_id` FROM `boundings` WHERE `game_layer_id` = 2 ORDER BY `id`
 ~ (0.000142) SELECT `id`, `type`, `created_at`, `updated_at`, `description`, `status`, `latitude`, `longitude`, `game_layer_id` FROM `tasks` WHERE `game_layer_id` = 2 ORDER BY `id`
 ~ (0.000311) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.003204) INSERT INTO `tasks` (`type`, `created_at`, `updated_at`, `status`, `latitude`, `longitude`, `game_layer_id`) VALUES (2, '2012-03-08 18:22:31', '2012-03-08 18:22:31', 'inactive', 0.52946932527641266E2, -0.1212163860890655E1, 2)
 ~ (0.000183) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 LIMIT 1
 ~ (0.000274) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 LIMIT 1
 ~ (0.000182) SELECT `id`, `latitude`, `longitude`, `created_at`, `radius`, `exposed`, `movement_speed`, `direction_vector`, `game_layer_id` FROM `radiations` WHERE `game_layer_id` = 2 ORDER BY `id`
 ~ (0.000141) SELECT `id`, `sw_latitude`, `sw_longitude`, `ne_latitude`, `ne_longitude`, `created_at`, `updated_at`, `game_layer_id` FROM `boundings` WHERE `game_layer_id` = 2 ORDER BY `id`
 ~ (0.000167) SELECT `id`, `type`, `created_at`, `updated_at`, `description`, `status`, `latitude`, `longitude`, `game_layer_id` FROM `tasks` WHERE `game_layer_id` = 2 ORDER BY `id`
output2
2
 ~ (0.000292) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000252) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `game_layer_id` IN (1, 2) ORDER BY `id`
 ~ (0.000154) SELECT `id`, `name`, `created_at`, `updated_at`, `game_layer_id` FROM `teams` WHERE `game_layer_id` IN (1, 2) ORDER BY `id`
 ~ (0.000180) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 1 ORDER BY `id`
 ~ (0.000156) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 2 ORDER BY `id`
 ~ (0.000154) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 3 ORDER BY `id`
 ~ (0.000182) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 4 ORDER BY `id`
 ~ (0.000152) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 5 ORDER BY `id`
 ~ (0.000165) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id`
 ~ (0.000298) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000329) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000310) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1

 ~ (0.000157) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 2) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000125) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000200) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000167) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000379) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000196) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `game_layer_id` = 2 ORDER BY `id`
 ~ (0.000151) SELECT `id`, `latitude`, `longitude`, `created_at`, `radius`, `exposed`, `movement_speed`, `direction_vector`, `game_layer_id` FROM `radiations` WHERE `game_layer_id` = 2 ORDER BY `id`
 ~ (0.000161) SELECT `id`, `type`, `created_at`, `updated_at`, `description`, `status`, `latitude`, `longitude`, `game_layer_id` FROM `tasks` WHERE `game_layer_id` = 2 ORDER BY `id`
output2
2
 ~ (0.000060) SET sql_auto_is_null = 0
 ~ (0.000062) SET SESSION sql_mode = 'ANSI,NO_BACKSLASH_ESCAPES,NO_DIR_IN_CREATE,NO_ENGINE_SUBSTITUTION,NO_UNSIGNED_SUBTRACTION,TRADITIONAL'
 ~ (0.000421) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000313) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1

 ~ (0.000174) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 2) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000149) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
128.243.22.244 - - [08/Mar/2012 18:24:45] "GET /game/mobile/2?id=140 HTTP/1.1" 200 5805 0.0179
128.243.22.244 - - [08/Mar/2012 18:24:45] "GET /mapattack-push.js HTTP/1.1" 304 - 0.0009
128.243.22.244 - - [08/Mar/2012 18:24:45] "GET /game_user.js HTTP/1.1" 304 - 0.0007
128.243.22.244 - - [08/Mar/2012 18:24:45] "GET /health_status.js HTTP/1.1" 304 - 0.0007
128.243.22.244 - - [08/Mar/2012 18:24:45] "GET /location.js HTTP/1.1" 304 - 0.0008
128.243.22.244 - - [08/Mar/2012 18:24:46] "GET /radiation_gray.png HTTP/1.1" 304 - 0.0010
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.22.244 - - [08/Mar/2012 18:25:50] "POST /game/2/join HTTP/1.1" 500 159882 0.0923
128.243.22.244 - - [08/Mar/2012 18:25:51] "GET /game/mobile/2?id=140 HTTP/1.1" 200 5805 0.0180
128.243.22.244 - - [08/Mar/2012 18:25:51] "GET /game-common.js HTTP/1.1" 304 - 0.0010
128.243.22.244 - - [08/Mar/2012 18:25:51] "GET /mapattack-push.js HTTP/1.1" 304 - 0.0008
128.243.22.244 - - [08/Mar/2012 18:25:51] "GET /game_user.js HTTP/1.1" 304 - 0.0007
128.243.22.244 - - [08/Mar/2012 18:25:51] "GET /health_status.js HTTP/1.1" 304 - 0.0007
128.243.22.244 - - [08/Mar/2012 18:25:51] "GET /location.js HTTP/1.1" 304 - 0.0007
128.243.22.244 - - [08/Mar/2012 18:25:52] "GET /radiation_gray.png HTTP/1.1" 304 - 0.0012
128.243.253.129 - - [08/Mar/2012 18:28:37] "GET /games/list HTTP/1.1" 200 129 0.0047
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 18:29:21] "POST /game/2/join HTTP/1.1" 500 159883 0.0497
128.243.253.129 - - [08/Mar/2012 18:29:24] "GET /game/mobile/2?id=140 HTTP/1.1" 200 5805 0.0154
128.243.253.129 - - [08/Mar/2012 18:29:24] "GET /game-common.js HTTP/1.1" 304 - 0.0010
128.243.253.129 - - [08/Mar/2012 18:29:24] "GET /mapattack-push.js HTTP/1.1" 304 - 0.0007
128.243.253.129 - - [08/Mar/2012 18:29:24] "GET /game_user.js HTTP/1.1" 304 - 0.0007
128.243.253.129 - - [08/Mar/2012 18:29:24] "GET /health_status.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 18:29:24] "GET /location.js HTTP/1.1" 304 - 0.0007
128.243.253.129 - - [08/Mar/2012 18:29:26] "GET /radiation_gray.png HTTP/1.1" 304 - 0.0011
135.196.162.73 - - [08/Mar/2012 18:59:31] "POST /game/1/join HTTP/1.1" 200 24 0.0076
NoMethodError - undefined method `is_active' for nil:NilClass:
 /home/wxj/Location-game-orchid/controller.rb:1080:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
10.18.230.203 - - [08/Mar/2012 19:23:55] "GET /game/10/dashboard HTTP/1.1" 500 138368 0.0851
128.243.253.129 - - [08/Mar/2012 23:19:12] "GET /games/list HTTP/1.1" 200 129 0.0073
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:19:13] "POST /game/2/join HTTP/1.1" 500 159883 0.0840
128.243.253.129 - - [08/Mar/2012 23:19:15] "GET /game/mobile/2?id=140 HTTP/1.1" 200 5805 0.0146
128.243.253.129 - - [08/Mar/2012 23:19:15] "GET /game-common.js HTTP/1.1" 304 - 0.0010
128.243.253.129 - - [08/Mar/2012 23:19:15] "GET /health_status.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:19:15] "GET /location.js HTTP/1.1" 304 - 0.0007
128.243.253.129 - - [08/Mar/2012 23:19:15] "GET /game_user.js HTTP/1.1" 304 - 0.0007
128.243.253.129 - - [08/Mar/2012 23:19:15] "GET /mapattack-push.js HTTP/1.1" 304 - 0.0007
128.243.253.129 - - [08/Mar/2012 23:19:18] "GET /radiation_gray.png HTTP/1.1" 304 - 0.0011
128.243.253.129 - - [08/Mar/2012 23:19:20] "GET /radiation_black.png HTTP/1.1" 304 - 0.0011
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:19:26] "POST /game/2/join HTTP/1.1" 500 159883 0.0897
128.243.253.129 - - [08/Mar/2012 23:19:27] "GET /game/mobile/2?id=140 HTTP/1.1" 200 5805 0.0145
128.243.253.129 - - [08/Mar/2012 23:19:27] "GET /game-common.js HTTP/1.1" 304 - 0.0009
128.243.253.129 - - [08/Mar/2012 23:19:27] "GET /mapattack-push.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:19:27] "GET /game_user.js HTTP/1.1" 304 - 0.0007
128.243.253.129 - - [08/Mar/2012 23:19:27] "GET /health_status.js HTTP/1.1" 304 - 0.0007
128.243.253.129 - - [08/Mar/2012 23:19:27] "GET /location.js HTTP/1.1" 304 - 0.0007
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:19:27] "POST /game/2/join HTTP/1.1" 500 159883 0.0883
128.243.253.129 - - [08/Mar/2012 23:19:28] "GET /radiation_gray.png HTTP/1.1" 304 - 0.0012
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:19:30] "POST /game/2/join HTTP/1.1" 500 159883 0.0483
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:19:32] "POST /game/2/join HTTP/1.1" 500 159883 0.0801
128.243.253.129 - - [08/Mar/2012 23:31:29] "GET /games/list HTTP/1.1" 200 129 0.0071
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:34:04] "POST /game/2/join HTTP/1.1" 500 159883 0.0870
 ~ (0.000269) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000174) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000334) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000333) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1

 ~ (0.000181) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 2) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000127) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000191) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000188) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000059) SET sql_auto_is_null = 0
 ~ (0.000062) SET SESSION sql_mode = 'ANSI,NO_BACKSLASH_ESCAPES,NO_DIR_IN_CREATE,NO_ENGINE_SUBSTITUTION,NO_UNSIGNED_SUBTRACTION,TRADITIONAL'
 ~ (0.000319) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000327) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000344) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1

 ~ (0.000167) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 2) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000124) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000261) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000192) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000060) SET sql_auto_is_null = 0
 ~ (0.000062) SET SESSION sql_mode = 'ANSI,NO_BACKSLASH_ESCAPES,NO_DIR_IN_CREATE,NO_ENGINE_SUBSTITUTION,NO_UNSIGNED_SUBTRACTION,TRADITIONAL'
 ~ (0.000465) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 1 ORDER BY `layer_id` LIMIT 1
 ~ (0.000060) SET sql_auto_is_null = 0
 ~ (0.000062) SET SESSION sql_mode = 'ANSI,NO_BACKSLASH_ESCAPES,NO_DIR_IN_CREATE,NO_ENGINE_SUBSTITUTION,NO_UNSIGNED_SUBTRACTION,TRADITIONAL'
 ~ (0.000441) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 10 ORDER BY `layer_id` LIMIT 1
 ~ (0.000060) SET sql_auto_is_null = 0
 ~ (0.000062) SET SESSION sql_mode = 'ANSI,NO_BACKSLASH_ESCAPES,NO_DIR_IN_CREATE,NO_ENGINE_SUBSTITUTION,NO_UNSIGNED_SUBTRACTION,TRADITIONAL'
 ~ (0.000506) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000305) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000332) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1

 ~ (0.000171) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 2) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000124) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000275) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000194) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000324) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000320) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1

 ~ (0.000156) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 2) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000125) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000199) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000162) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000295) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000346) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000307) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000061) SET sql_auto_is_null = 0
 ~ (0.000062) SET SESSION sql_mode = 'ANSI,NO_BACKSLASH_ESCAPES,NO_DIR_IN_CREATE,NO_ENGINE_SUBSTITUTION,NO_UNSIGNED_SUBTRACTION,TRADITIONAL'
 ~ (0.000372) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000061) SET sql_auto_is_null = 0
 ~ (0.000062) SET SESSION sql_mode = 'ANSI,NO_BACKSLASH_ESCAPES,NO_DIR_IN_CREATE,NO_ENGINE_SUBSTITUTION,NO_UNSIGNED_SUBTRACTION,TRADITIONAL'
 ~ (0.000376) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000308) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
128.243.253.129 - - [08/Mar/2012 23:34:05] "GET /game/mobile/2?id=140 HTTP/1.1" 200 5807 0.0148
128.243.253.129 - - [08/Mar/2012 23:34:05] "GET /game-common.js HTTP/1.1" 200 4057 0.0012
128.243.253.129 - - [08/Mar/2012 23:34:05] "GET /mapattack-push.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:34:05] "GET /game_user.js HTTP/1.1" 304 - 0.0007
128.243.253.129 - - [08/Mar/2012 23:34:05] "GET /health_status.js HTTP/1.1" 304 - 0.0007
128.243.253.129 - - [08/Mar/2012 23:34:05] "GET /location.js HTTP/1.1" 304 - 0.0007
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:34:06] "POST /game/2/join HTTP/1.1" 500 159883 0.0472
128.243.253.129 - - [08/Mar/2012 23:34:06] "GET /game/mobile/2?id=140 HTTP/1.1" 200 5807 0.0546
128.243.253.129 - - [08/Mar/2012 23:34:06] "GET /mapattack-push.js HTTP/1.1" 304 - 0.0010
128.243.253.129 - - [08/Mar/2012 23:34:06] "GET /game_user.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:34:06] "GET /health_status.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:34:06] "GET /location.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:34:12] "GET /radiation_gray.png HTTP/1.1" 304 - 0.0011
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:34:41] "POST /game/2/join HTTP/1.1" 500 159883 0.0480
128.243.253.129 - - [08/Mar/2012 23:37:09] "GET /games/list HTTP/1.1" 200 129 0.0047
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:37:14] "POST /game/2/join HTTP/1.1" 500 159883 0.0833
128.243.253.129 - - [08/Mar/2012 23:37:14] "GET /game/mobile/2?id=140 HTTP/1.1" 200 5807 0.0143
128.243.253.129 - - [08/Mar/2012 23:37:14] "GET /game-common.js HTTP/1.1" 200 3990 0.0011
128.243.253.129 - - [08/Mar/2012 23:37:14] "GET /mapattack-push.js HTTP/1.1" 304 - 0.0007
128.243.253.129 - - [08/Mar/2012 23:37:14] "GET /game_user.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:37:14] "GET /health_status.js HTTP/1.1" 304 - 0.0007
128.243.253.129 - - [08/Mar/2012 23:37:14] "GET /location.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:37:17] "GET /radiation_gray.png HTTP/1.1" 304 - 0.0011
128.243.253.129 - - [08/Mar/2012 23:37:19] "GET /radiation_black.png HTTP/1.1" 304 - 0.0011
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:37:39] "POST /game/2/join HTTP/1.1" 500 159883 0.0836
128.243.253.129 - - [08/Mar/2012 23:37:39] "GET /game/mobile/2?id=140 HTTP/1.1" 200 5807 0.0142
128.243.253.129 - - [08/Mar/2012 23:37:39] "GET /mapattack-push.js HTTP/1.1" 304 - 0.0009
128.243.253.129 - - [08/Mar/2012 23:37:39] "GET /game_user.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:37:39] "GET /health_status.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:37:39] "GET /location.js HTTP/1.1" 304 - 0.0007
128.243.253.129 - - [08/Mar/2012 23:37:41] "GET /radiation_gray.png HTTP/1.1" 304 - 0.0011
128.243.253.129 - - [08/Mar/2012 23:37:43] "GET /radiation_black.png HTTP/1.1" 304 - 0.0011
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:38:16] "POST /game/2/join HTTP/1.1" 500 159883 0.0848
128.243.253.129 - - [08/Mar/2012 23:38:16] "GET /game/mobile/2?id=140 HTTP/1.1" 200 5807 0.0148
128.243.253.129 - - [08/Mar/2012 23:38:16] "GET /game-common.js HTTP/1.1" 304 - 0.0010
128.243.253.129 - - [08/Mar/2012 23:38:16] "GET /mapattack-push.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:38:16] "GET /game_user.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:38:16] "GET /health_status.js HTTP/1.1" 304 - 0.0007
128.243.253.129 - - [08/Mar/2012 23:38:16] "GET /location.js HTTP/1.1" 304 - 0.0008
128.243.22.244 - - [08/Mar/2012 23:38:16] "GET /games/list HTTP/1.1" 200 129 0.0030
128.243.253.129 - - [08/Mar/2012 23:38:17] "GET /radiation_gray.png HTTP/1.1" 304 - 0.0010
128.243.253.129 - - [08/Mar/2012 23:38:19] "GET /radiation_black.png HTTP/1.1" 304 - 0.0011
128.243.253.129 - - [08/Mar/2012 23:38:19] "GET /radiation_black.png HTTP/1.1" 304 - 0.0008
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:40:14] "POST /game/2/join HTTP/1.1" 500 159883 0.0544
128.243.253.129 - - [08/Mar/2012 23:40:14] "GET /game/mobile/2?id=140 HTTP/1.1" 200 5807 0.0561
128.243.253.129 - - [08/Mar/2012 23:40:14] "GET /game-common.js HTTP/1.1" 304 - 0.0009
128.243.253.129 - - [08/Mar/2012 23:40:14] "GET /mapattack-push.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:40:14] "GET /game_user.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:40:14] "GET /health_status.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:40:15] "GET /location.js HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:40:15] "GET /radiation_gray.png HTTP/1.1" 304 - 0.0008
128.243.253.129 - - [08/Mar/2012 23:40:47] "GET /radiation_black.png HTTP/1.1" 304 - 0.0011
128.243.22.244 - - [08/Mar/2012 23:40:57] "POST /game/2/join HTTP/1.1" 200 24 0.0033

 ~ (0.000181) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 2) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000127) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000247) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000196) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000296) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000304) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1

 ~ (0.000177) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 2) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000125) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000202) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000163) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000323) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000060) SET sql_auto_is_null = 0
 ~ (0.000086) SET SESSION sql_mode = 'ANSI,NO_BACKSLASH_ESCAPES,NO_DIR_IN_CREATE,NO_ENGINE_SUBSTITUTION,NO_UNSIGNED_SUBTRACTION,TRADITIONAL'
 ~ (0.000345) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000320) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000307) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1

 ~ (0.000154) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 2) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000125) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000273) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000187) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000326) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000333) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1

 ~ (0.000155) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 2) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000124) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000177) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000162) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000347) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000330) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1

 ~ (0.000179) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 2) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000127) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000214) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000175) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000261) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000059) SET sql_auto_is_null = 0
 ~ (0.000063) SET SESSION sql_mode = 'ANSI,NO_BACKSLASH_ESCAPES,NO_DIR_IN_CREATE,NO_ENGINE_SUBSTITUTION,NO_UNSIGNED_SUBTRACTION,TRADITIONAL'
 ~ (0.000392) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000307) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1

 ~ (0.000167) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 2) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000125) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000246) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000171) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000327) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000091) SET sql_auto_is_null = 0
 ~ (0.000062) SET SESSION sql_mode = 'ANSI,NO_BACKSLASH_ESCAPES,NO_DIR_IN_CREATE,NO_ENGINE_SUBSTITUTION,NO_UNSIGNED_SUBTRACTION,TRADITIONAL'
128.243.253.129 - - [08/Mar/2012 23:48:29] "GET /games/list HTTP/1.1" 200 129 0.0051
128.243.253.129 - - [08/Mar/2012 23:48:31] "POST /game/2/join HTTP/1.1" 200 24 0.0055
128.243.253.129 - - [08/Mar/2012 23:48:33] "POST /game/2/join HTTP/1.1" 200 24 0.0055
128.243.253.129 - - [08/Mar/2012 23:48:37] "POST /game/2/join HTTP/1.1" 200 24 0.0052
128.243.253.129 - - [08/Mar/2012 23:48:41] "GET /games/list HTTP/1.1" 200 129 0.0033
128.243.253.129 - - [08/Mar/2012 23:48:42] "GET /games/list HTTP/1.1" 200 129 0.0030
128.243.253.129 - - [08/Mar/2012 23:48:43] "POST /game/2/join HTTP/1.1" 200 24 0.0050
128.243.22.246 - - [08/Mar/2012 23:48:53] "GET /admin/games HTTP/1.1" 200 4611 0.0252
128.243.22.246 - - [08/Mar/2012 23:48:53] "GET /game-common.js HTTP/1.1" 200 3990 0.0024
128.243.22.246 - - [08/Mar/2012 23:48:53] "GET /reset.css HTTP/1.1" 200 5672 0.0019
128.243.22.246 - - [08/Mar/2012 23:48:54] "GET /favicon.ico HTTP/1.1" 404 458 0.0023
128.243.22.246 - - [08/Mar/2012 23:48:54] "GET /favicon.ico HTTP/1.1" 404 458 0.0018
128.243.253.129 - - [08/Mar/2012 23:49:18] "POST /game/2/join HTTP/1.1" 200 24 0.0061
128.243.253.129 - - [08/Mar/2012 23:49:21] "POST /game/2/join HTTP/1.1" 200 24 0.0051
128.243.253.129 - - [08/Mar/2012 23:49:24] "GET /games/list HTTP/1.1" 200 129 0.0032
128.243.22.246 - - [08/Mar/2012 23:50:36] "GET /admin/games/new HTTP/1.1" 200 2388 0.0055
128.243.22.246 - - [08/Mar/2012 23:50:36] "GET /game-common.js HTTP/1.1" 304 - 0.0021
128.243.22.246 - - [08/Mar/2012 23:50:48] "POST /admin/games HTTP/1.1" 302 - 0.0402
128.243.22.246 - - [08/Mar/2012 23:50:48] "GET /admin/games/3/mapeditor HTTP/1.1" 200 16262 0.0156
128.243.22.246 - - [08/Mar/2012 23:50:48] "GET /bootstrap.css HTTP/1.1" 200 81443 0.0044
 ~ (0.000340) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000302) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000192) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`game_layer_id` = 2 AND `id` = 140) ORDER BY `id` LIMIT 1
 ~ (0.000311) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000156) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`game_layer_id` = 2 AND `id` = 140) ORDER BY `id` LIMIT 1
 ~ (0.000326) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000166) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`game_layer_id` = 2 AND `id` = 140) ORDER BY `id` LIMIT 1
 ~ (0.000318) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000289) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000326) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000158) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`game_layer_id` = 2 AND `id` = 140) ORDER BY `id` LIMIT 1
 ~ (0.000296) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000303) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `game_layer_id` IN (1, 2) ORDER BY `id`
 ~ (0.000150) SELECT `id`, `name`, `created_at`, `updated_at`, `game_layer_id` FROM `teams` WHERE `game_layer_id` IN (1, 2) ORDER BY `id`
 ~ (0.000178) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 1 ORDER BY `id`
 ~ (0.000152) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 2 ORDER BY `id`
 ~ (0.000175) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 3 ORDER BY `id`
 ~ (0.000159) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 4 ORDER BY `id`
 ~ (0.000152) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 5 ORDER BY `id`
 ~ (0.000151) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id`
 ~ (0.000351) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000173) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`game_layer_id` = 2 AND `id` = 140) ORDER BY `id` LIMIT 1
 ~ (0.000339) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000166) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`game_layer_id` = 2 AND `id` = 140) ORDER BY `id` LIMIT 1
 ~ (0.000320) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000062) SET sql_auto_is_null = 0
 ~ (0.000086) SET SESSION sql_mode = 'ANSI,NO_BACKSLASH_ESCAPES,NO_DIR_IN_CREATE,NO_ENGINE_SUBSTITUTION,NO_UNSIGNED_SUBTRACTION,TRADITIONAL'
 ~ (0.011632) INSERT INTO `games` (`name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at`) VALUES ('test2', '', '', '', '', -1, '2012-03-08 23:50:48', '2012-03-08 23:50:48')
 ~ (0.003588) INSERT INTO `teams` (`name`, `created_at`, `updated_at`, `game_layer_id`) VALUES ('runner', '2012-03-08 23:50:48', '2012-03-08 23:50:48', 3)
 ~ (0.009074) INSERT INTO `teams` (`name`, `created_at`, `updated_at`, `game_layer_id`) VALUES ('controller', '2012-03-08 23:50:48', '2012-03-08 23:50:48', 3)
 ~ (0.003391) INSERT INTO `teams` (`name`, `created_at`, `updated_at`, `game_layer_id`) VALUES ('truck', '2012-03-08 23:50:48', '2012-03-08 23:50:48', 3)
 ~ (0.000246) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 3 LIMIT 1
 ~ (0.000280) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000288) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `game_layer_id` IN (1, 2, 3) ORDER BY `id`
 ~ (0.000161) SELECT `id`, `name`, `created_at`, `updated_at`, `game_layer_id` FROM `teams` WHERE `game_layer_id` IN (1, 2, 3) ORDER BY `id`
 ~ (0.000206) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 1 ORDER BY `id`
 ~ (0.000158) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 2 ORDER BY `id`
 ~ (0.000153) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 3 ORDER BY `id`
 ~ (0.000157) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 4 ORDER BY `id`
128.243.22.246 - - [08/Mar/2012 23:50:52] "GET /admin/games HTTP/1.1" 200 6455 0.0325
128.243.253.129 - - [08/Mar/2012 23:50:59] "GET /games/list HTTP/1.1" 200 191 0.0037
128.243.253.129 - - [08/Mar/2012 23:51:01] "POST /game/3/join HTTP/1.1" 200 24 0.0052
10.50.253.110 - - [08/Mar/2012 23:51:06] "GET /admin/games HTTP/1.1" 200 6455 0.0326
10.50.253.110 - - [08/Mar/2012 23:51:06] "GET /game-common.js HTTP/1.1" 200 3990 0.0022
10.50.253.110 - - [08/Mar/2012 23:51:06] "GET /reset.css HTTP/1.1" 304 - 0.0016
10.50.253.110 - - [08/Mar/2012 23:51:08] "GET /admin/games HTTP/1.1" 200 6455 0.0695
10.50.253.110 - - [08/Mar/2012 23:51:08] "GET /favicon.ico HTTP/1.1" 404 458 0.0021
10.50.253.110 - - [08/Mar/2012 23:51:10] "GET /admin/games/new HTTP/1.1" 200 2388 0.0055
10.50.253.110 - - [08/Mar/2012 23:51:11] "GET /favicon.ico HTTP/1.1" 404 458 0.0020
10.50.253.110 - - [08/Mar/2012 23:51:14] "GET /admin/games/new HTTP/1.1" 200 2388 0.0055
10.50.253.110 - - [08/Mar/2012 23:51:14] "GET /favicon.ico HTTP/1.1" 404 458 0.0022
10.50.253.110 - - [08/Mar/2012 23:51:19] "GET /admin/games/new HTTP/1.1" 200 2388 0.0055
10.50.253.110 - - [08/Mar/2012 23:51:19] "GET /favicon.ico HTTP/1.1" 404 458 0.0020
 ~ (0.000153) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 5 ORDER BY `id`
 ~ (0.000153) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id`
 ~ (0.000167) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 7 ORDER BY `id`
 ~ (0.000181) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 8 ORDER BY `id`
 ~ (0.000160) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 9 ORDER BY `id`
 ~ (0.000297) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000326) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 3 ORDER BY `layer_id` LIMIT 1
 ~ (0.000181) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`game_layer_id` = 3 AND `id` = 140) ORDER BY `id` LIMIT 1
 ~ (0.000298) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000212) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `game_layer_id` IN (1, 2, 3) ORDER BY `id`
 ~ (0.000160) SELECT `id`, `name`, `created_at`, `updated_at`, `game_layer_id` FROM `teams` WHERE `game_layer_id` IN (1, 2, 3) ORDER BY `id`
 ~ (0.000181) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 1 ORDER BY `id`
 ~ (0.000151) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 2 ORDER BY `id`
 ~ (0.000151) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 3 ORDER BY `id`
 ~ (0.000169) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 4 ORDER BY `id`
 ~ (0.000169) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 5 ORDER BY `id`
 ~ (0.000151) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id`
 ~ (0.000152) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 7 ORDER BY `id`
 ~ (0.000152) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 8 ORDER BY `id`
 ~ (0.000150) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 9 ORDER BY `id`
 ~ (0.000345) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000240) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `game_layer_id` IN (1, 2, 3) ORDER BY `id`
 ~ (0.000161) SELECT `id`, `name`, `created_at`, `updated_at`, `game_layer_id` FROM `teams` WHERE `game_layer_id` IN (1, 2, 3) ORDER BY `id`
 ~ (0.000176) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 1 ORDER BY `id`
 ~ (0.000410) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 2 ORDER BY `id`
 ~ (0.000154) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 3 ORDER BY `id`
 ~ (0.000180) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 4 ORDER BY `id`
 ~ (0.000152) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 5 ORDER BY `id`
 ~ (0.000151) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id`
 ~ (0.000180) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 7 ORDER BY `id`
 ~ (0.000150) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 8 ORDER BY `id`
 ~ (0.000151) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 9 ORDER BY `id`
 ~ (0.004256) INSERT INTO `games` (`name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at`) VALUES ('test', '', '', '', '', -1, '2012-03-08 23:51:25', '2012-03-08 23:51:25')
 ~ (0.002621) INSERT INTO `teams` (`name`, `created_at`, `updated_at`, `game_layer_id`) VALUES ('runner', '2012-03-08 23:51:25', '2012-03-08 23:51:25', 4)
10.50.253.110 - - [08/Mar/2012 23:51:25] "POST /admin/games HTTP/1.1" 302 - 0.0257
10.50.253.110 - - [08/Mar/2012 23:51:25] "GET /admin/games/4/mapeditor HTTP/1.1" 200 16262 0.0153
10.50.253.110 - - [08/Mar/2012 23:51:25] "GET /bootstrap.css HTTP/1.1" 304 - 0.0018
10.50.253.110 - - [08/Mar/2012 23:51:25] "GET /favicon.ico HTTP/1.1" 404 458 0.0019
NoMethodError - undefined method `is_active' for nil:NilClass:
 /home/wxj/Location-game-orchid/controller.rb:1040:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.22.244 - - [08/Mar/2012 23:55:11] "GET /game/mobile/12 HTTP/1.1" 500 138160 0.0814
128.243.22.244 - - [08/Mar/2012 23:55:11] "GET /favicon.ico HTTP/1.1" 404 458 0.0024
NoMethodError - undefined method `is_active' for nil:NilClass:
 /home/wxj/Location-game-orchid/controller.rb:1040:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.22.244 - - [08/Mar/2012 23:55:13] "GET /game/mobile/12 HTTP/1.1" 500 138292 0.0398
128.243.22.244 - - [08/Mar/2012 23:55:13] "GET /favicon.ico HTTP/1.1" 404 458 0.0021
128.243.22.244 - - [08/Mar/2012 23:55:15] "GET /game/mobile/1 HTTP/1.1" 200 5349 0.0146
128.243.22.244 - - [08/Mar/2012 23:55:15] "GET /game-common.js HTTP/1.1" 200 3990 0.0023
128.243.22.244 - - [08/Mar/2012 23:55:15] "GET /mapattack-web.js HTTP/1.1" 200 5624 0.0019
128.243.22.244 - - [08/Mar/2012 23:55:15] "GET /game_controller.js HTTP/1.1" 200 22635 0.0024
128.243.22.244 - - [08/Mar/2012 23:55:15] "GET /reset.css HTTP/1.1" 304 - 0.0016
128.243.22.244 - - [08/Mar/2012 23:55:15] "GET /style.css HTTP/1.1" 304 - 0.0016
128.243.22.244 - - [08/Mar/2012 23:55:16] "GET /radiation_gray.png HTTP/1.1" 304 - 0.0019
128.243.22.244 - - [08/Mar/2012 23:55:16] "GET /img/home-bkg.png HTTP/1.1" 304 - 0.0017
128.243.22.244 - - [08/Mar/2012 23:55:16] "GET /game/1/status.json?after=0 HTTP/1.1" 200 63 0.0109
128.243.22.244 - - [08/Mar/2012 23:55:16] "GET /fonts/DroidSans-webfont.woff HTTP/1.1" 304 - 0.0017
128.243.22.244 - - [08/Mar/2012 23:55:16] "GET /favicon.ico HTTP/1.1" 404 458 0.0021
128.243.22.244 - - [08/Mar/2012 23:55:18] "GET /game/mobile/2 HTTP/1.1" 200 5347 0.0141
128.243.22.244 - - [08/Mar/2012 23:55:18] "GET /game/2/status.json?after=0 HTTP/1.1" 200 208 0.0120
128.243.22.244 - - [08/Mar/2012 23:55:18] "GET /favicon.ico HTTP/1.1" 404 458 0.0020
NoMethodError - undefined method `is_active' for nil:NilClass:
 /home/wxj/Location-game-orchid/controller.rb:1040:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
82.132.138.234 - - [08/Mar/2012 23:55:51] "GET /game/mobile/12 HTTP/1.1" 500 138313 0.0712
82.132.138.234 - - [08/Mar/2012 23:55:51] "GET /favicon.ico HTTP/1.1" 404 458 0.0013
82.132.138.234 - - [08/Mar/2012 23:55:56] "GET /game/mobile/1 HTTP/1.1" 200 5809 0.0138
82.132.138.234 - - [08/Mar/2012 23:55:56] "GET /game_user.js HTTP/1.1" 200 19968 0.0021
82.132.138.234 - - [08/Mar/2012 23:55:56] "GET /game-common.js HTTP/1.1" 200 3990 0.0042
82.132.138.234 - - [08/Mar/2012 23:55:56] "GET /mapattack-push.js HTTP/1.1" 200 5636 0.0011
82.132.138.234 - - [08/Mar/2012 23:55:56] "GET /health_status.js HTTP/1.1" 200 4586 0.0012
82.132.138.234 - - [08/Mar/2012 23:55:56] "GET /location.js HTTP/1.1" 200 1162 0.0010
82.132.138.234 - - [08/Mar/2012 23:56:03] "GET /radiation_gray.png HTTP/1.1" 200 1743 0.0015
82.132.138.234 - - [08/Mar/2012 23:56:14] "GET /game/mobile/1 HTTP/1.1" 200 5809 0.0137
82.132.138.234 - - [08/Mar/2012 23:56:18] "GET /radiation_gray.png HTTP/1.1" 304 - 0.0012
128.243.253.129 - - [08/Mar/2012 23:57:01] "GET /games/list HTTP/1.1" 200 252 0.0044
128.243.253.129 - - [08/Mar/2012 23:57:22] "GET /games/list HTTP/1.1" 200 252 0.0037
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:57:27] "POST /game/2/join HTTP/1.1" 500 159883 0.0812
128.243.253.129 - - [08/Mar/2012 23:57:27] "GET /game/mobile/2?id=140 HTTP/1.1" 200 5807 0.0141
128.243.253.129 - - [08/Mar/2012 23:57:27] "GET /game-common.js HTTP/1.1" 200 3990 0.0011
128.243.253.129 - - [08/Mar/2012 23:57:27] "GET /mapattack-push.js HTTP/1.1" 200 5636 0.0010
128.243.253.129 - - [08/Mar/2012 23:57:28] "GET /game_user.js HTTP/1.1" 200 19968 0.0015
128.243.253.129 - - [08/Mar/2012 23:57:28] "GET /health_status.js HTTP/1.1" 200 4586 0.0010
128.243.253.129 - - [08/Mar/2012 23:57:28] "GET /location.js HTTP/1.1" 200 1162 0.0009
128.243.253.129 - - [08/Mar/2012 23:57:33] "GET /radiation_gray.png HTTP/1.1" 200 1743 0.0016
 ~ (0.004526) INSERT INTO `teams` (`name`, `created_at`, `updated_at`, `game_layer_id`) VALUES ('controller', '2012-03-08 23:51:25', '2012-03-08 23:51:25', 4)
 ~ (0.002779) INSERT INTO `teams` (`name`, `created_at`, `updated_at`, `game_layer_id`) VALUES ('truck', '2012-03-08 23:51:25', '2012-03-08 23:51:25', 4)
 ~ (0.000222) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 4 LIMIT 1
 ~ (0.000059) SET sql_auto_is_null = 0
 ~ (0.000061) SET SESSION sql_mode = 'ANSI,NO_BACKSLASH_ESCAPES,NO_DIR_IN_CREATE,NO_ENGINE_SUBSTITUTION,NO_UNSIGNED_SUBTRACTION,TRADITIONAL'
 ~ (0.000349) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 12 ORDER BY `layer_id` LIMIT 1
 ~ (0.000282) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 12 ORDER BY `layer_id` LIMIT 1
 ~ (0.000326) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 1 ORDER BY `layer_id` LIMIT 1

find player 
 ~ (0.000126) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 1 ORDER BY `layer_id` LIMIT 1
 ~ (0.000291) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 1 AND `name` = 'truck')
 ~ (0.000172) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 3 ORDER BY `id` LIMIT 1
 ~ (0.000326) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 1 ORDER BY `layer_id` LIMIT 1
 ~ (0.000192) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `game_layer_id` = 1 ORDER BY `id`
 ~ (0.000170) SELECT `id`, `latitude`, `longitude`, `created_at`, `radius`, `exposed`, `movement_speed`, `direction_vector`, `game_layer_id` FROM `radiations` WHERE `game_layer_id` = 1 ORDER BY `id`
 ~ (0.000141) SELECT `id`, `type`, `created_at`, `updated_at`, `description`, `status`, `latitude`, `longitude`, `game_layer_id` FROM `tasks` WHERE `game_layer_id` = 1 ORDER BY `id`
 ~ (0.000301) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1

find player 
 ~ (0.000126) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000202) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000193) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000294) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000193) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `game_layer_id` = 2 ORDER BY `id`
 ~ (0.000141) SELECT `id`, `latitude`, `longitude`, `created_at`, `radius`, `exposed`, `movement_speed`, `direction_vector`, `game_layer_id` FROM `radiations` WHERE `game_layer_id` = 2 ORDER BY `id`
 ~ (0.000188) SELECT `id`, `type`, `created_at`, `updated_at`, `description`, `status`, `latitude`, `longitude`, `game_layer_id` FROM `tasks` WHERE `game_layer_id` = 2 ORDER BY `id`
output2
2
 ~ (0.000301) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 12 ORDER BY `layer_id` LIMIT 1
 ~ (0.000322) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 1 ORDER BY `layer_id` LIMIT 1

find player 
 ~ (0.000130) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 1 ORDER BY `layer_id` LIMIT 1
 ~ (0.000197) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 1 AND `name` = 'truck')
 ~ (0.000166) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 3 ORDER BY `id` LIMIT 1
 ~ (0.000321) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 1 ORDER BY `layer_id` LIMIT 1

find player 
 ~ (0.000132) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 1 ORDER BY `layer_id` LIMIT 1
 ~ (0.000190) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 1 AND `name` = 'truck')
 ~ (0.000164) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 3 ORDER BY `id` LIMIT 1
 ~ (0.000302) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000300) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000352) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000305) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1

 ~ (0.000158) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 2) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000123) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000182) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000158) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000316) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000205) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `game_layer_id` = 2 ORDER BY `id`
 ~ (0.000142) SELECT `id`, `latitude`, `longitude`, `created_at`, `radius`, `exposed`, `movement_speed`, `direction_vector`, `game_layer_id` FROM `radiations` WHERE `game_layer_id` = 2 ORDER BY `id`
 ~ (0.000180) SELECT `id`, `type`, `created_at`, `updated_at`, `description`, `status`, `latitude`, `longitude`, `game_layer_id` FROM `tasks` WHERE `game_layer_id` = 2 ORDER BY `id`
128.243.253.129 - - [08/Mar/2012 23:57:33] "GET /game/2/status.json?after=0 HTTP/1.1" 200 208 0.0071
128.243.253.129 - - [08/Mar/2012 23:57:38] "GET /radiation_black.png HTTP/1.1" 200 1191 0.0015
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:58:04] "POST /game/3/join HTTP/1.1" 500 159883 0.0820
128.243.253.129 - - [08/Mar/2012 23:58:05] "GET /game/mobile/3?id=140 HTTP/1.1" 200 5755 0.0178
128.243.253.129 - - [08/Mar/2012 23:58:06] "GET /game/3/status.json?after=0 HTTP/1.1" 200 63 0.0090
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:58:30] "POST /game/2/join HTTP/1.1" 500 159883 0.0821
128.243.253.129 - - [08/Mar/2012 23:58:31] "GET /game/mobile/2?id=140 HTTP/1.1" 200 5807 0.0144
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:59:06] "POST /game/2/join HTTP/1.1" 500 159883 0.0495
128.243.253.129 - - [08/Mar/2012 23:59:07] "GET /game/mobile/2?id=140 HTTP/1.1" 200 5807 0.0538
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [08/Mar/2012 23:59:22] "POST /game/2/join HTTP/1.1" 500 159883 0.0479
128.243.253.129 - - [08/Mar/2012 23:59:23] "GET /game/mobile/2?id=140 HTTP/1.1" 200 5807 0.0143
128.243.253.129 - - [08/Mar/2012 23:59:23] "GET /mapattack-push.js HTTP/1.1" 304 - 0.0009
128.243.253.129 - - [09/Mar/2012 00:00:22] "GET /games/list HTTP/1.1" 200 252 0.0043
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [09/Mar/2012 00:00:24] "POST /game/2/join HTTP/1.1" 500 159883 0.0813
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [09/Mar/2012 00:01:02] "POST /game/2/join HTTP/1.1" 500 159883 0.0853
output2
2
 ~ (0.000343) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 3 ORDER BY `layer_id` LIMIT 1
 ~ (0.000306) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 3 ORDER BY `layer_id` LIMIT 1

 ~ (0.000156) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 3) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000126) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 3 ORDER BY `layer_id` LIMIT 1
 ~ (0.000239) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 3 AND `name` = 'truck')
 ~ (0.000165) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 9 ORDER BY `id` LIMIT 1
 ~ (0.000349) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 3 ORDER BY `layer_id` LIMIT 1
 ~ (0.000249) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `game_layer_id` = 3 ORDER BY `id`
 ~ (0.000143) SELECT `id`, `latitude`, `longitude`, `created_at`, `radius`, `exposed`, `movement_speed`, `direction_vector`, `game_layer_id` FROM `radiations` WHERE `game_layer_id` = 3 ORDER BY `id`
 ~ (0.000143) SELECT `id`, `type`, `created_at`, `updated_at`, `description`, `status`, `latitude`, `longitude`, `game_layer_id` FROM `tasks` WHERE `game_layer_id` = 3 ORDER BY `id`
 ~ (0.000345) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000329) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1

 ~ (0.000156) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 2) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000123) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000183) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000158) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000361) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000329) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1

 ~ (0.000361) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 2) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000151) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000188) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000158) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000323) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000322) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1

 ~ (0.000158) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE (`id` = 140 AND `game_layer_id` = 2) ORDER BY `id` LIMIT 1
find player 140
 ~ (0.000153) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000184) SELECT `id` FROM `teams` WHERE (`game_layer_id` = 2 AND `name` = 'truck')
 ~ (0.000182) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id` LIMIT 1
 ~ (0.000306) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000369) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000381) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` WHERE `layer_id` = 2 ORDER BY `layer_id` LIMIT 1
 ~ (0.000313) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000228) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `game_layer_id` IN (1, 2, 3, 4) ORDER BY `id`
 ~ (0.000171) SELECT `id`, `name`, `created_at`, `updated_at`, `game_layer_id` FROM `teams` WHERE `game_layer_id` IN (1, 2, 3, 4) ORDER BY `id`
 ~ (0.000183) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 1 ORDER BY `id`
 ~ (0.000158) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 2 ORDER BY `id`
 ~ (0.000151) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 3 ORDER BY `id`
 ~ (0.000152) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 4 ORDER BY `id`
 ~ (0.000180) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 5 ORDER BY `id`
128.243.22.246 - - [09/Mar/2012 00:01:26] "GET /admin/games HTTP/1.1" 200 8298 0.0403
128.243.22.246 - - [09/Mar/2012 00:01:27] "GET /game-common.js HTTP/1.1" 304 - 0.0021
128.243.22.246 - - [09/Mar/2012 00:01:27] "GET /reset.css HTTP/1.1" 304 - 0.0017
128.243.22.246 - - [09/Mar/2012 00:01:28] "GET /admin/games HTTP/1.1" 200 8298 0.0282
128.243.22.246 - - [09/Mar/2012 00:01:28] "GET /game-common.js HTTP/1.1" 304 - 0.0022
128.243.22.246 - - [09/Mar/2012 00:01:28] "GET /reset.css HTTP/1.1" 304 - 0.0017
 ~ (0.000151) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id`
 ~ (0.000153) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 7 ORDER BY `id`
 ~ (0.000150) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 8 ORDER BY `id`
 ~ (0.000150) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 9 ORDER BY `id`
 ~ (0.000151) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 10 ORDER BY `id`
 ~ (0.000150) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 11 ORDER BY `id`
 ~ (0.000152) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 12 ORDER BY `id`
 ~ (0.000245) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000166) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `game_layer_id` IN (1, 2, 3, 4) ORDER BY `id`
 ~ (0.000121) SELECT `id`, `name`, `created_at`, `updated_at`, `game_layer_id` FROM `teams` WHERE `game_layer_id` IN (1, 2, 3, 4) ORDER BY `id`
 ~ (0.000131) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 1 ORDER BY `id`
 ~ (0.000107) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 2 ORDER BY `id`
 ~ (0.000105) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 3 ORDER BY `id`
 ~ (0.000124) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 4 ORDER BY `id`
 ~ (0.000107) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 5 ORDER BY `id`
 ~ (0.000106) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id`
 ~ (0.000107) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 7 ORDER BY `id`
 ~ (0.000106) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 8 ORDER BY `id`
 ~ (0.000105) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 9 ORDER BY `id`
 ~ (0.000107) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 10 ORDER BY `id`
 ~ (0.000106) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 11 ORDER BY `id`
 ~ (0.000106) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 12 ORDER BY `id`
 ~ (0.000288) SELECT `layer_id`, `name`, `address`, `latitude`, `longitude`, `radius`, `is_active`, `created_at`, `updated_at` FROM `games` ORDER BY `layer_id`
 ~ (0.000220) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `game_layer_id` IN (1, 2, 3, 4) ORDER BY `id`
 ~ (0.000183) SELECT `id`, `name`, `created_at`, `updated_at`, `game_layer_id` FROM `teams` WHERE `game_layer_id` IN (1, 2, 3, 4) ORDER BY `id`
 ~ (0.000190) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 1 ORDER BY `id`
 ~ (0.000181) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 2 ORDER BY `id`
 ~ (0.000151) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 3 ORDER BY `id`
 ~ (0.000154) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 4 ORDER BY `id`
 ~ (0.000190) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 5 ORDER BY `id`
 ~ (0.000151) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 6 ORDER BY `id`
 ~ (0.000155) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 7 ORDER BY `id`
 ~ (0.000151) SELECT `id`, `status`, `points_cache`, `profile_image`, `name`, `email`, `created_at`, `updated_at`, `exposure`, `current_exposure`, `skill`, `health`, `latitude`, `longitude`, `team_id`, `game_layer_id` FROM `players` WHERE `team_id` = 8 ORDER BY `id`
128.243.22.246 - - [09/Mar/2012 00:01:29] "GET /admin/games HTTP/1.1" 200 8298 0.0409
128.243.22.246 - - [09/Mar/2012 00:01:29] "GET /game-common.js HTTP/1.1" 304 - 0.0020
128.243.22.246 - - [09/Mar/2012 00:01:29] "GET /reset.css HTTP/1.1" 304 - 0.0016
128.243.253.129 - - [09/Mar/2012 00:02:44] "GET /games/list HTTP/1.1" 200 252 0.0051
DataMapper::SaveFailureError - Player#save returned false, Player was not saved:
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:1197:in `assert_save_successful'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/resource.rb:407:in `save'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:704:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/model.rb:450:in `create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `block in _create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/repository.rb:114:in `scope'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:1211:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/associations/one_to_many.rb:265:in `_create'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/dm-core-1.1.0/lib/dm-core/collection.rb:793:in `create'
 /home/wxj/Location-game-orchid/controller.rb:919:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:195:in `context'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/session/abstract/id.rb:190:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/showexceptions.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/methodoverride.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:48:in `_call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/lint.rb:36:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/showexceptions.rb:24:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/commonlogger.rb:20:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/chunked.rb:41:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/content_length.rb:14:in `call'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:84:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `catch'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:82:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:57:in `process'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/connection.rb:42:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/eventmachine-1.0.0.beta.3/lib/eventmachine.rb:199:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/backends/base.rb:61:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/thin-1.2.11/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/gems/rack-1.3.3/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.2-p290@MapAttack/bin/rackup:19:in `<main>'
128.243.253.129 - - [09/Mar/2012 00:02:49] "POST /game/2/join HTTP/1.1" 500 159883 0.0944
