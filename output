NoMethodError - undefined method `layer_id' for nil:NilClass:
 /home/wxj/Location-game-orchid/views/layout.erb:14:in `block in singletonclass'
 /home/wxj/Location-game-orchid/views/layout.erb:65532:in `instance_eval'
 /home/wxj/Location-game-orchid/views/layout.erb:65532:in `singletonclass'
 /home/wxj/Location-game-orchid/views/layout.erb:65530:in `__tilt_7686140'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/tilt-1.3.3/lib/tilt/template.rb:140:in `call'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/tilt-1.3.3/lib/tilt/template.rb:140:in `cached_evaluate'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/tilt-1.3.3/lib/tilt/template.rb:127:in `evaluate'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/tilt-1.3.3/lib/tilt/template.rb:76:in `render'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:563:in `render'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:569:in `block in render'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:569:in `catch'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:569:in `render'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:455:in `erb'
 /home/wxj/Location-game-orchid/controllers/controller.rb:419:in `block in <class:Controller>'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `call'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:1152:in `block in compile!'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:724:in `route_eval'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:708:in `block (2 levels) in route!'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:758:in `block in process_route'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `catch'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:755:in `process_route'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:707:in `block in route!'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `each'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:706:in `route!'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:843:in `dispatch!'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `block in call!'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `instance_eval'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `block in invoke'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `catch'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:808:in `invoke'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:644:in `call!'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:629:in `call'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/rack-mobile-detect-0.3.0/lib/rack/mobile-detect.rb:164:in `call'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/rack-1.4.1/lib/rack/session/abstract/id.rb:205:in `context'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/rack-1.4.1/lib/rack/session/abstract/id.rb:200:in `call'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/rack-1.4.1/lib/rack/head.rb:9:in `call'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/rack-1.4.1/lib/rack/methodoverride.rb:21:in `call'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `block in call'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:1303:in `synchronize'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/sinatra-1.2.6/lib/sinatra/base.rb:1272:in `call'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/thin-1.5.0/lib/thin/connection.rb:81:in `block in pre_process'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/thin-1.5.0/lib/thin/connection.rb:79:in `catch'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/thin-1.5.0/lib/thin/connection.rb:79:in `pre_process'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/thin-1.5.0/lib/thin/connection.rb:54:in `process'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/thin-1.5.0/lib/thin/connection.rb:39:in `receive_data'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/eventmachine-1.0.0/lib/eventmachine.rb:187:in `run_machine'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/eventmachine-1.0.0/lib/eventmachine.rb:187:in `run'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/thin-1.5.0/lib/thin/backends/base.rb:63:in `start'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/thin-1.5.0/lib/thin/server.rb:159:in `start'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/rack-1.4.1/lib/rack/handler/thin.rb:13:in `run'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/rack-1.4.1/lib/rack/server.rb:265:in `start'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/rack-1.4.1/lib/rack/server.rb:137:in `start'
 /usr/local/rvm/gems/ruby-1.9.3-p194/gems/rack-1.4.1/bin/rackup:4:in `<top (required)>'
 /usr/local/rvm/gems/ruby-1.9.3-p194/bin/rackup:19:in `load'
 /usr/local/rvm/gems/ruby-1.9.3-p194/bin/rackup:19:in `<main>'
